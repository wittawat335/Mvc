@model Product
@{
    ViewBag.Title = "Detail";
    Layout = "~/Views/Shared/_LayoutDetail.cshtml";
}



<div class="container">
<div class="row">
    <div class="nn-product-view-right col-sm-3 nn-margin-bottom">
        <aside>
            @*Side Left*@
            @Html.Partial("_CartInfo")
            <h3>OUR OFFERS</h3>
            <div id="demo5" class="scroll-img">
                <ul>
                    @foreach (var s in Model.Supplier.Products.OrderBy(p => Guid.NewGuid()).Skip(1).Take(10))
                    {
                        <li>
                            <div class="row">

                                <div class="nn-box">
                                    <a href="/Product/Detail/@s.Id">

                                        <img id="i@(s.Id)" class="nn-box-image" title="@s.Name" src="/Content/img/products/@s.Image" alt="@Model.Name"/>
                                    </a>
                                    <div class="nn-product-box-descriptions">
                                        <h3 class="nn-box-name">
                                            <a href="/Product/Detail/@s.Id" title="@s.Name">@s.Name</a>
                                        </h3>
                                        <div class="nn-product-box-price ">
                                            <span class="">฿ @s.UnitPrice</span>
                                        </div>
                                        <div class="nn-product-box-actions">
                                            <button type="button" title="Add to Cart" class="btn btn-default add-to-cart" data-id="@s.Id">
                                                <span>Add to Cart</span>
                                            </button>
                                        </div>
                                    </div>
                                </div><!--end nn-product-box-->
                            </div>
                        </li>
                    }
                </ul>
            </div>
            <div id="demo5-btn" class="text-center">
                <button class="btn" id="demo5-backward"><i class="icon-chevron-left"></i> Backward</button>
                <button class="btn" id="demo5-forward">Forward <i class="icon-chevron-right"></i></button>
            </div>
        </aside>
    </div>

    @*Side Right*@
    <div class="col-sm-9">
        <ol class="breadcrumb">
            <li>
                <a href="/Product/AllList">สินค้า</a>
            </li>
            <li class="active">
                รายละเอียดสินค้า
            </li>
        </ol>
        <div class="nn-product-essential">

            <div class="nn-Product-detail-image col-sm-4">
                <img id="zoom_mw" src="/Content/img/products/@Model.Image" data-zoom-image="/Content/img/products/Large/@Model.ImageLarge" class="img-responsive img-thumbnail"/>

            </div>
            <div class="col-sm-8">
                <strong class="h5">
                    <h1>@Model.Name</h1>
                </strong>
                <span class="sku_wrapper">
                        <span class="item-title">รหัสสินค้า:</span>
                        <span>
                            <strong class="h4">
                                @Model.Id
                            </strong>
                        </span>
                    </span>
                <span><br /></span>
                <span class="category-url-wrapper">
                        <span class="item-title">ประเภทสินค้า: </span>
                        <a href="/Product/Category?CategoryID=@Model.CategoryId">@Model.Category.Name </a>
                    </span>
                

                <div class="short-description">
                    <div class="std">
                        <h5>

                            <strong></strong>

                        </h5><br>

                    </div>
                </div>

                <p class="availability in-stock">
                    <span>
                          จำนวนสินค้าใน Stock: 
                        </span>
                    <span>
                            <strong class="h3">
                                @Model.Quantity ชิ้น
                            </strong>
                        </span>
                    
                </p>
                <div class="nn-product-box-price">

                    <h3>฿ @Model.UnitPrice</h3>


                </div>
                <div class="add-to-box">
                    <div class="add-to-cart nn-margin-bottom">
                        <div class="qty-box form-inline">
                            <label for="qty">จำนวน : </label>
                            <input type="text" style="width: 50px" class="form-control" name="qty" id="qty" maxlength="12" value="1" title="Qty">
                            <button type="button" title="Add to Cart" class="btn btn-default add-to-cart" data-id="@Model.Id">
                                <span>Add to Cart</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="clearfix"></div>
        <div class="row">
            <!-- Nav tabs -->
            <ul class="nav nav-tabs" role="tablist" id="myTab">
                <li role="presentation" class="active"><a href="#home" aria-controls="home" role="tab" data-toggle="tab">รายละเอียด</a></li>
                <li role="presentation"><a href="#profile" aria-controls="profile" role="tab" data-toggle="tab">Profile</a></li>

            </ul>
            <!-- Tab panes -->
            <div class="tab-content">
                <div role="tabpanel" class="tab-pane fade in active" id="home">
                    <div>
                        <p>@Model.Description</p>
                    </div>
                </div>
                <div role="tabpanel" class="tab-pane fade row" id="profile">
                    <h2 class="h2"> รายละเอียดสินค้า</h2>
                    <div class="col-md-6">
                        <table class="table table-hover">
                            <tr>
                                <td>รหัสสินค้า:</td>
                                <td>@Model.Id</td>
                            </tr>
                            <tr>
                                <td>ชื่อสินค้า:</td>
                                <td>@Model.Name</td>
                            </tr>
                            <tr>
                                <td>มีสินค้า:</td>
                                <td>@Model.Available</td>
                            </tr>
                            <tr>
                                <td>ประเภทสินค้า:</td>
                                <td>@Model.Category.Name</td>
                            </tr>
                            <tr>
                                <td>ส่วนลด:</td>
                                <td>@Model.Discount</td>
                            </tr>
                            <tr>
                                <td>วันที่ผลิต:</td>
                                <td>@Model.ProductDate</td>
                            </tr>
                            <tr>
                                <td>ผู้ผลิต:</td>
                                <td>@Model.Supplier.Name</td>
                            </tr>
                            <tr>
                                <td>UnitBrief:</td>
                                <td>@Model.UnitBrief</td>
                            </tr>
                            <tr>
                                <td>Views:</td>
                                <td>@Model.Views</td>
                            </tr>
                        </table>
                    </div>
                    <div class="col-md-6"></div>
                </div>

            </div>
            
            <script>
                $(function() {
                    $('#myTab a:last').tab('show')
                })
            </script>
        </div>
    </div>

</div>
@*
    <div class="row">
        <fieldset class="nn-relate">
            <legend>Same Supplier</legend>
            @foreach (var p in Model.Supplier.Products.Skip(1).Take(7))
            {
                <div class="col-md-3 col-sm-6 col-xs-12">
                    <div class="nn-product-box">
                        <a href="/Product/Detail/@p.Id">
                            <img class="img-responsive" src="/Content/img/products/@p.Image" />
                        </a>
                        <div class="nn-product-box-descriptions">
                            <h3 class="nn-product-box-name">
                                <a href="/Product/Detail/@p.Id" title="@p.Name">@p.Name</a>
                            </h3>
                            <div class="nn-product-box-price ">
                                <span class="">฿ @p.UnitPrice</span>
                            </div>
                            <div class="nn-product-box-actions">
                                <button type="button" title="Add to Cart" class="btn btn-default add-to-cart" data-id="@p.Id">
                                    <span>Add to Cart</span>
                                </button>

                            </div>
                        </div>
                    </div>
                </div>
            }
        </fieldset>
    </div>*@

@*
    <div class="row">
        <fieldset class="nn-relate">
            <legend>Same Category</legend>
            @foreach (var p in Model.Category.Products.Skip(1).Take(7))
            {
                <div class="col-md-3 col-sm-6 col-xs-12">
                    <div class="nn-product-box">
                        <a href="/Product/Detail/@p.Id">
                            <img class="img-responsive" src="/Content/img/products/@p.Image"/>
                        </a>
                        <div class="nn-product-box-descriptions">
                            <h3 class="nn-product-box-name">
                                <a href="/Product/Detail/@p.Id" title="@p.Name">@p.Name</a>
                            </h3>
                            <div class="nn-product-box-price ">
                                <span class="">฿ @p.UnitPrice</span>
                            </div>
                            <div class="nn-product-box-actions">
                                <button type="button" title="Add to Cart" class="btn btn-default add-to-cart" data-id="@p.Id">
                                    <span>Add to Cart</span>
                                </button>

                            </div>
                        </div>
                    </div>
                </div>
            }
        </fieldset>
    </div>
    *@

    <div class="row">
        <fieldset class="nn-relate">
            <legend>Top 10 Viewed </legend>
            @foreach (var p in ViewBag.Views)
            {
                <div class="col-md-3 col-sm-6 col-xs-12">
                    <div class="nn-box">
                        <a href="/Product/Detail/@p.Id">
                            <img id="i@(p.Id)" class="nn-box-image" src="/Content/img/products/@p.Image" />
                        </a>
                        <div class="nn-product-box-descriptions">
                            <h3 class="nn-box-name">
                                <a href="/Product/Detail/@p.Id" title="@p.Name">@p.Name</a>
                            </h3>
                            <div class="nn-product-box-price ">
                                <span class="">฿ @p.UnitPrice</span>
                            </div>
                            <div class="nn-product-box-actions">
                                <button type="button" title="Add to Cart" class="btn btn-default add-to-cart" data-id="@p.Id">
                                    <span>Add to Cart</span>
                                </button>

                            </div>
                        </div>
                    </div>
                </div>
            }
        </fieldset>
    </div>
</div>


<style>
    .scroll-img {
        border-right: 1px solid #DADADA;
        overflow: hidden;
    }

    .scroll-img ul {
        height: 800px;
        margin: 0;
    }

    .scroll-img ul li {
        display: block;
    }
</style>

@section scripts{
<script src="/Content/js/jquery.scrollbox.js"></script>
<script src="/Scripts/jquery.elevatezoom.js"></script>


    <script>
        $(function() {
            $('#demo5').scrollbox({
                linear: false, // Scroll method
                startDelay: 2, // Start delay (in seconds)
                delay: 3, // Delay after each scroll event (in seconds)
                step: 5, // Distance of each single step (in pixels)
                speed: 32, // Delay after each single step (in milliseconds)
                switchItems: 1, // Items to switch after each scroll event
                direction: 'vertical',
                distance: 'auto',
                autoPlay: true,
                onMouseOverPause: true,
                paused: false,
                queue: null
            });
            $('#demo5-backward').click(function() {
                $('#demo5').trigger('backward');
            });
            $('#demo5-forward').click(function() {
                $('#demo5').trigger('forward');
            });
        });
       
    </script>

    <script>
        $(function() {
            $("#zoom_mw").elevateZoom();
        })
    
    </script>

<script>
    //Shopping Cart
    $(function () {
        $(".add-to-cart").click(function () {
            pid = $(this).attr("data-id");
            $.ajax({
                url: "/Cart/Add",
                data: {id: pid},
                success: function (response) {
                    $("#nn-cart-count").html(response.Count);
                    $("#nn-cart-total").html(response.Total);
                }
            });

            //CartEffect
            cssfly = ".fly-effect {background:url(?);background-size:100% 100%;}";
            src = $("#i" + pid).attr("src");
            newcssfly = cssfly.replace("?", src);
            $("#cart-fly").html(newcssfly);

            options = { to: "#nn-cart-image", className: "fly-effect" };
            $("#i"+pid).effect("transfer", options, 500, function () { });
        });
    });
</script>

<style id="cart-fly">
    .fly-effect {
        background-size: 100% 100%;
    }
</style>

}
